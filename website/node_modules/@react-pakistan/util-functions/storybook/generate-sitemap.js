"use strict";
/**
 * A util function to generate sitemap for storybook app
 *
 * @param fs any
 * @param stories Object
 * @param baseUrl string
 * @returns an auto generated storybook sitemap
 * @author Taimoor Khan
 * @remarks React Commons Collection, React UI Collection,
 * React Icon Collection, React Logo Collection,
 * React Emoji Collection
 */
/** End file docs */
Object.defineProperty(exports, "__esModule", { value: true });
exports.generateSitemap = void 0;
exports.generateSitemap = (baseUrl, fs, stories) => {
    let generatedSitemap = '';
    Object.keys(stories).forEach((id) => {
        generatedSitemap += `
    <url>
      <loc>${baseUrl}${id}</loc>
      <changefreq>weekly</changefreq>
      <priority>0.5</priority>
      <lastmod>2020-10-10</lastmod>
    </url>`;
    });
    const resolvedInitialUrl = baseUrl.split('?')[0];
    const sitemap = `<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
  <urlset xmlns="http://www.sitemaps.org/schemas/sitemap/0.9" xmlns:xhtml="http://www.w3.org/1999/xhtml" >
    <url>
      <loc>${resolvedInitialUrl}</loc>
      <changefreq>daily</changefreq>
      <priority>1</priority>
      <lastmod>2020-10-10</lastmod>
    </url>
    ${generatedSitemap}
  </urlset>
  `;
    fs.writeFileSync('./sitemap.xml', sitemap);
};
